#! /bin/csh
if ($#argv == 0) then
  echo "Missing aag file. Using -- run.fraig xx (for simxx.aag)"; exit 1
endif

set design=$1
if (! -e $design) then
   echo "$design does not exists" ; exit 1
endif
 
set dofile=do.fraig
rm -f $dofile
echo "cirr $design" > $dofile
echo "cirsweep" >> $dofile
echo "ciropt" >> $dofile
echo "cirstrash" >> $dofile
echo "cirsim -r" >> $dofile
echo "cirsim -r" >> $dofile
echo "cirsim -r" >> $dofile
echo "cirsim -r" >> $dofile
echo "cirsim -r" >> $dofile
echo "cirsim -r" >> $dofile
echo "cirsim -r" >> $dofile
echo "cirfraig" >> $dofile
#do not change this line below
echo "usage" >> $dofile
echo "cirp" >> $dofile
echo "cirp -n" >> $dofile
echo "cirwrite -o $1.out" >> $dofile
echo "usage" >> $dofile
echo "q -f" >> $dofile
../fraig -f $dofile
